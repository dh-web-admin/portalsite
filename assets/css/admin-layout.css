/*----------------------------------*
 * Admin Layout Styles
 * Shared across all admin pages
 * Used by: dashboard.php, user_list.php, register_new.php, 
 *          remove_user.php, edit_user.php
 *---------------------------------*/

body.admin-page {
  background: #ffffff;
  min-height: 100vh;
  padding: 0;
  --admin-header-h: 160px; /* increased to allow a larger logo */
}

.admin-container {
  width: 100%;
  margin: 0;
  padding: 0;
  text-align: center;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

/*----------------------------------*
 * Admin Header (Welcome Section)
 *---------------------------------*/

.welcome-section {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  margin: 0;
  width: 100%;
  padding: 20px;
  box-sizing: border-box;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--admin-header-h);
  z-index: 1000;
  display: flex;
  flex-direction: row; /* text left, logo right */
  align-items: center;
  justify-content: flex-start; /* let left content flow; logo will be absolutely anchored */
  padding-right: 64px; /* reserve space on the right so logo text isn't flush to the edge */
}

.welcome-left {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  flex: 1 1 auto; /* allow left area to take available space but remain shrinkable */
  min-width: 0; /* allow children to truncate instead of forcing overflow */
}

.welcome-section h1 {
  color: white;
  font-size: 32px;
  margin-bottom: 6px;
  /* allow h1 to wrap naturally so it doesn't force the logo off-screen */
  width: auto;
  overflow: visible;
  text-overflow: unset;
  white-space: normal;
}

.welcome-section h2 {
  color: rgba(255, 255, 255, 0.9);
  font-size: 24px;
}

.welcome-logo {
  padding-top: 10px;
  height: 100px;
  width: auto;
  object-fit: contain;
  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.2));
  flex-shrink: 0;
  max-width: 260px;
  box-sizing: content-box;
  position: absolute;
  right: 24px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 1001;
}

/* if the header content becomes very long, ensure the logo still sits inside the header
   by giving the left side permission to wrap and shrink as needed */
.welcome-left h1,
.welcome-left h2 {
  margin: 0;
}

@media (max-width: 600px) {
  .welcome-logo {
    height: 80px;
  }
}

/*----------------------------------*
 * Admin Layout Structure
 *---------------------------------*/

.admin-layout {
  display: flex;
  margin-top: var(--admin-header-h);
  min-height: calc(100vh - var(--admin-header-h));
}

/*----------------------------------*
 * Side Navigation
 *---------------------------------*/

.side-nav {
  width: 240px;
  background: linear-gradient(180deg, #0f172a 0%, #0b1220 100%);
  color: white;
  padding: 24px 16px;
  padding-top: 0%;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.08);
  display: flex;
  flex-direction: column;
  position: fixed;
  top: var(--admin-header-h);
  left: 0;
  bottom: 0;
  overflow-y: auto;
}

.side-nav h3 {
  margin-bottom: 18px;
  font-size: 18px;
  letter-spacing: 0.4px;
}

.nav-btn {
  display: block;
  width: 100%;
  text-align: left;
  padding: 12px 14px;
  margin-bottom: 10px;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.04);
  color: white;
  text-decoration: none;
  font-weight: 600;
  cursor: pointer;
  border: none;
  font-size: 14px;
}

.nav-btn:hover {
  background: rgba(255, 255, 255, 0.08);
}

.adminnav {
  background-color: #ffffff; /* white background */
  color: #b91c1c; /* red text */
  padding: 12px 16px;
  font-weight: 700;
  margin: 0 0 12px 0;
  display: block;
  width: calc(
    100% + 32px
  ); /* extend to the side-nav edges (compensate for side-nav padding) */
  margin-left: -16px;
  box-sizing: border-box;
  text-align: left;
}

/* Nav group / dropdown for side navigation */
.nav-group {
  margin-bottom: 12px;
}

.nav-toggle {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.sub-nav {
  display: none;
  margin-top: 6px;
  padding-left: 6px;
}

.nav-group.open .sub-nav {
  display: block;
}

.sub-nav .nav-btn {
  padding-left: 20px;
  background: rgba(255, 255, 255, 0.02);
  margin-bottom: 8px;
}

/* Logout button styling (distinct, but consistent) */
.logout-btn {
  background: rgba(239, 68, 68, 0.15);
  color: #fff;
  margin-top: auto; /* push logout to bottom */
  display: block;
}

.logout-btn:hover {
  background: rgba(239, 68, 68, 0.25);
}

/*----------------------------------*
 * Main Content Area
 *---------------------------------*/

.content-area {
  flex: 1;
  padding: 40px;
  margin-left: 0; /* default: no sidebar reserved space; applied when sidebar exists below */
  height: calc(100vh - var(--admin-header-h));
  overflow-y: auto;
}

/* When a sidebar is present, push the content over to make room. We use the
   adjacent sibling selector so non-admin pages (no sidebar) keep full width. */
.admin-layout > .side-nav + .content-area {
  margin-left: 240px;
}

.main-content {
  margin-top: 0;
}

.main-content h1 {
  margin-bottom: 20px;
  color: #333;
}

/*----------------------------------*
 * Role Edit Components (User List)
 *---------------------------------*/

.role-edit-wrap {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.role-edit-wrap select.edit-role {
  padding: 6px 8px;
  border-radius: 6px;
  border: 1px solid rgba(0, 0, 0, 0.08);
  background: #fff;
  color: #111;
  font-size: 14px;
}

.role-caret {
  background: rgba(255, 255, 255, 0.06);
  color: white;
  border: none;
  border-radius: 6px;
  padding: 6px 8px;
  cursor: pointer;
  font-weight: 700;
}

.role-caret:hover {
  background: rgba(255, 255, 255, 0.12);
}

/* Popup row for role editing (appears below the user row) */
.role-popup-row {
  background: rgba(102, 126, 234, 0.04);
}

.role-popup-row .nav-btn {
  min-width: 80px;
  height: 34px;
  padding: 6px 10px;
}

.nav-btn.btn-edit,
.nav-btn-remove {
  width: 100px;
  color: black;
}

/*----------------------------------*
 * Responsive Design - Mobile & Tablet
 *---------------------------------*/

/* Tablet (portrait) and smaller laptops */
@media (max-width: 1024px) {
  :root {
    --admin-header-h: 140px;
  }

  body.admin-page {
    --admin-header-h: 140px;
  }

  .welcome-section h1 {
    font-size: 28px;
  }

  .welcome-section h2 {
    font-size: 20px;
  }

  .welcome-logo {
    height: 80px;
  }

  .content-area {
    padding: 30px 20px;
  }

  .admin-layout > .side-nav + .content-area {
    margin-left: 240px;
  }
}

/* Mobile landscape and tablet portrait */
@media (max-width: 768px) {
  :root {
    --admin-header-h: 120px;
  }

  body.admin-page {
    --admin-header-h: 120px;
  }

  .welcome-section {
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 15px;
    height: auto;
    min-height: 120px;
  }

  .welcome-left {
    align-items: center;
    text-align: center;
  }

  .welcome-section h1 {
    font-size: 24px;
    margin-bottom: 4px;
  }

  .welcome-section h2 {
    font-size: 18px;
  }

  .welcome-logo {
    height: 60px;
    padding-top: 5px;
  }

  /* On small screens the logo should stack underneath the welcome text
     instead of being absolutely positioned to the right. Undo the absolute
     anchoring we use for large viewports and let the flex column layout stack.
     This prevents clipping and ensures the header remains responsive. */
  .welcome-logo {
    position: static !important;
    right: auto !important;
    top: auto !important;
    transform: none !important;
    margin-top: 10px;
    padding-right: 0 !important;
    max-width: 90% !important;
    height: auto;
  }

  /* Reduce the large right padding we reserve for the anchored logo on desktop */
  .welcome-section {
    padding-right: 16px;
  }

  /* Mobile Navigation - Collapsible Sidebar */
  .side-nav {
    width: 200px;
    padding: 16px 12px;
    z-index: 999;
  }

  .nav-btn {
    padding: 10px 12px;
    font-size: 13px;
  }

  .adminnav {
    font-size: 14px;
    padding: 10px 12px;
    width: calc(100% + 24px);
    margin-left: -12px;
  }

  .content-area {
    padding: 20px 15px;
  }

  .admin-layout > .side-nav + .content-area {
    margin-left: 200px;
  }
}

/* Mobile portrait */
@media (max-width: 600px) {
  body.admin-page {
    --admin-header-h: 110px;
  }

  .welcome-section {
    min-height: 110px;
    padding: 10px;
  }

  .welcome-section h1 {
    font-size: 20px;
  }

  .welcome-section h2 {
    font-size: 16px;
  }

  .welcome-logo {
    height: 50px;
  }

  /* Hide sidebar on mobile, show hamburger menu */
  .side-nav {
    position: fixed;
    left: -200px;
    width: 200px;
    transition: left 0.3s ease;
    z-index: 1001;
  }

  .side-nav.mobile-open {
    left: 0;
  }

  .content-area {
    margin-left: 0;
    padding: 15px 10px;
    width: 100%;
  }

  .main-content h1 {
    font-size: 24px;
  }

  /* Mobile menu overlay */
  .mobile-menu-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
  }

  .mobile-menu-overlay.active {
    display: block;
  }

  /* Hamburger menu button */
  .mobile-menu-btn {
    position: fixed;
    top: 15px;
    left: 15px;
    z-index: 1002;
    background: rgba(255, 255, 255, 0.9);
    border: none;
    border-radius: 8px;
    padding: 10px 12px;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .mobile-menu-btn span {
    display: block;
    width: 24px;
    height: 3px;
    background: #333;
    border-radius: 2px;
    transition: all 0.3s ease;
  }

  .mobile-menu-btn.active span:nth-child(1) {
    transform: rotate(45deg) translate(6px, 6px);
  }

  .mobile-menu-btn.active span:nth-child(2) {
    opacity: 0;
  }

  .mobile-menu-btn.active span:nth-child(3) {
    transform: rotate(-45deg) translate(6px, -6px);
  }
}

/* Very small mobile devices */
@media (max-width: 380px) {
  .welcome-section h1 {
    font-size: 18px;
  }

  .welcome-section h2 {
    font-size: 14px;
  }

  .content-area {
    padding: 10px 8px;
  }

  .main-content h1 {
    font-size: 20px;
  }
}
